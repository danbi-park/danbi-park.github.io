# 리눅스 권한(permisson) 설정(chmod,chown)(2)

https://velog.io/@wmc1415/%EB%A6%AC%EB%88%85%EC%8A%A4-%EA%B6%8C%ED%95%9Cpermisson-%EC%84%A4%EC%A0%95chmodchown2

일단 내가 수정할려는 파일 폴더내에서 ls-al(Terminal에서)이라는 명령어를 친다.

그러면 위의 사진처럼 현재위치에 있는 폴더 파일들을 자세히 볼 수 있습니다.

drwxr-xr-x 4 mark staff 128 4 3 0066.
위에 있는 문구를 하나씩 분석을 해보자

제일 앞에 있는 d는 파일type을 나타냄.
'd'-> dir , '-' -> 일반파일
rwxr-xr-x: 권한정보를 나타냄
해당 파일에 어떤 권한이 부여되어 있는지 확인가능.
4 링크수
mark : 해당 파일의 소유자
staff: 소유그룹
128: 파일의 용량
4 3 0066: 생성날짜
.: 파일의 이름
우선 권한정보를 나태내는게 어떤것이 있는지 알아보자.(제일 중요!)

퍼미션의 종류
r(읽기): 파일의 읽기 권한
w(쓰기): 파일의 쓰기 권한
x(실행): 파일의 실행 권한
그렇다면 위에서 권한정보를 분석을 해보자.

rwxr-xr-x
우선 3자리씩 끊어서 분석을 하면된다.
rwx(소유자가 접근할 수 있는 권한) / r-x(그룹에 속한 사용자들 접근권한)/ r-x(모든 사용자가 접근할 수 있는권한)

첫번째로 rwx: 소유자에 대한 권한이다.
소유자는 r(읽기),w(쓰기),x(실행)가 허용된다.
두번째로 r-x: 그룹에 대한 권한이다.(여기서 -는 권한이 없다라고 생각하면된다).
소유그룹에 속하고 있는 사용자들은 r(읽기),x(실행)가 허용된다.
세번째로 r-x: 모든사용자들에 대한 권한이다.
소유그룹과 마찬가지로 r(읽기),x(실행)가 허용된다.
파일이 생성되면서 기본적인 권한이 부여되기 때문에 변경을 필요로 할때가 있다. chmod명령어를 사용해서 권한정보를 한번 변경을 해보자.

chmod [변경될권한값][변경할파일]
권한값을 지정해야되므로 권한값을 구하는법을 알아보자.
각 권한 기호를 숫자로 변환 후 더한다.(r = 4, w = 2, x = 1)
rwx 인 경우는 4 + 2 + 1 = 7이다.
rwxr-xr-x 이렇게 권한을 부여하고 싶으면 3자리씩 끊은 다음 숫자로 변환뒤 숫자를 합친다.
rwx(4+2+1=7)/ r-x(4+1=5) / r-x(4+1=5) 합산을 하면 755라는 값이 나온다.
그다음 chmod명령어를 써서
chmod 755 test.txt
라고 명령을 실행을 하면 권한정보가 바뀐다.
파일 폴더가 디렉토리(directory)인 경우에는 -R을 써서 하위폴더까지 디렉토리 파일안에 있는 하위폴더까지 변경이 된다.

chmod -R 777 무제파일
이렇게 하면된다.

chown은 소유자(또는 그룹)를 변경하는 명령어인데 chmod보다 비교적 쉽다.

chmod에 이어서 chown에 대해서 알아보자.

chmod 개념 및 사용방법

chown 명령어는 파일 및 디렉토리의 소유권을 바꾸는 명령어입니다.

chown 명령어 사용법
chown (옵션) (변경할유저명:변경할그룹명) (파일명)
chown -R을 사용하면 해당디렉토리 하위폴더까지 변경이 가능하다.
예시를 한번 살펴보자.

chown user1 test.txt 
test.txt 파일에 대해 소유자를 user1로 바꾼다.

 chown :user1 test.txt
test.txt 파일에 대해 그룹명을 members1로 바꾼다.

 chown root test.txt 
test.txt 파일에 대해 소유자 및 그룹명을 root로 바꾼다.

 chown user1:user2 test.txt
test.txt 파일에 대해 소유자는 user1, 그룹명은 user2로 바꾼다.